<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.exam.payment.mapper.PaymentMapper">
     <select id="selectPayment" resultType="com.exam.payment.vo.PaymentVO" parameterType="String">
       SELECT pay_no,
              prod_name,
              r.price,
              p.prod_no,
              pay_date,
              pay_type,
              p.user_id
        FROM payments p JOIN products r
                         ON(p.prod_no = r.prod_no)
        WHERE pay_type='ready'
        AND p.user_id=#{user_id}
     </select>
  </mapper>