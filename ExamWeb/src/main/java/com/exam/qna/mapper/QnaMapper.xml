<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.exam.qna.mapper.QnaMapper">
 
 <select id="qnaList" parameterType="com.exam.qna.vo.SearchVO" resultType="com.exam.qna.vo.QnaVO">
 	SELECT qna_table.*
   FROM(SELECT /*+ INDEX_DESC (r PK_QNAREPLY)*/
                ROWNUM rn,qna_no,
                       qna_title,
                       qna_content,
                       qna_create,
                       user_id,
                       category_no,
                       qna_cnt
         FROM qna) qna_table
    WHERE qna_table.rn >(#{page}-1)*10+1
    AND qna_table.rn <![CDATA[<=]]> #{page}*10
 </select>
 <!-- 총페이지수 -->
<select id="totalCnt" parameterType="com.exam.qna.vo.SearchVO" resultType="int">
	SELECT COUNT(1) cnt 
	FROM qna 
 </select>
 <!-- category가져오기 -->
 <select id="categoryList" resultType="com.exam.qna.vo.QnaVO">
   SELECT category_name
   FROM category
 </select>
</mapper>